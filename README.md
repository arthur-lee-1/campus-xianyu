<div align="center">

# ğŸ›’ æ ¡å›­é›†å¸‚

**ä¸“ä¸ºæ ¡å›­è®¾è®¡çš„äºŒæ‰‹äº¤æ˜“å¹³å°**

[![Python](https://img.shields.io/badge/Python-3.11+-3776AB?style=flat-square&logo=python&logoColor=white)](https://python.org)
[![Django](https://img.shields.io/badge/Django-4.2-092E20?style=flat-square&logo=django&logoColor=white)](https://djangoproject.com)
[![React](https://img.shields.io/badge/React-18-61DAFB?style=flat-square&logo=react&logoColor=black)](https://reactjs.org)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-3178C6?style=flat-square&logo=typescript&logoColor=white)](https://typescriptlang.org)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791?style=flat-square&logo=postgresql&logoColor=white)](https://postgresql.org)
[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?style=flat-square&logo=docker&logoColor=white)](https://docker.com)
[![License](https://img.shields.io/badge/License-MIT-green?style=flat-square)](LICENSE)

[åŠŸèƒ½ä»‹ç»](#-åŠŸèƒ½ä»‹ç») Â· [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ) Â· [å¿«é€Ÿå¯åŠ¨](#-å¿«é€Ÿå¯åŠ¨) Â· [å¼€å‘è¿‡ç¨‹](#-å¼€å‘è¿‡ç¨‹)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

**æ ¡å›­é›†å¸‚**æ˜¯ä¸€ä¸ªé¢å‘åœ¨æ ¡å­¦ç”Ÿçš„äºŒæ‰‹å•†å“äº¤æ˜“å¹³å°ï¼Œæä¾›å•†å“å‘å¸ƒã€æœç´¢ã€äº¤æ˜“ã€åŒå‘è¯„ä»·ç­‰å®Œæ•´é—­ç¯åŠŸèƒ½ã€‚æ”¯æŒæ‰‹æœºå·ã€å¾®ä¿¡ã€QQ ä¸‰ç§ç™»å½•æ–¹å¼ï¼Œé‡‡ç”¨ React + Django å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå›¾ç‰‡èµ„æºæ‰˜ç®¡äºå¯¹è±¡å­˜å‚¨ï¼ˆOSS/COSï¼‰ï¼Œéƒ¨ç½²äº Debian æœåŠ¡å™¨ã€‚

---

## âœ¨ åŠŸèƒ½ä»‹ç»

### ç”¨æˆ·ä½“ç³»
- **å¤šæ–¹ç™»å½•** â€” æ‰‹æœºå·éªŒè¯ç  / å¾®ä¿¡ OAuth / QQ OAuth
- **ä¸ªäººä¸»é¡µ** â€” å¤´åƒã€æ˜µç§°ã€ç®€ä»‹ã€åœ¨å”®å•†å“ã€ä¹°å–å®¶ç»¼åˆè¯„åˆ†å±•ç¤º
- **å…³æ³¨ç³»ç»Ÿ** â€” å…³æ³¨ / å–å…³å…¶ä»–ç”¨æˆ·ï¼ŒæŸ¥çœ‹å…³æ³¨åˆ—è¡¨ä¸ç²‰ä¸åˆ—è¡¨

### å•†å“
- **å‘å¸ƒå•†å“** â€” å¤šå›¾ä¸Šä¼ ï¼ˆOSS ç›´ä¼ ï¼‰ã€åˆ†ç±»ã€å®šä»·ã€æ–°æ—§ç¨‹åº¦æ ‡æ³¨
- **å•†å“æœç´¢** â€” å…³é”®è¯æœç´¢ + åˆ†ç±»ç­›é€‰ + ä»·æ ¼æ’åº + æ— é™æ»šåŠ¨åŠ è½½
- **ä¸ªæ€§åŒ–æ¨é€** â€” åŸºäºæµè§ˆå†å²ä¸åˆ†ç±»åå¥½çš„æ¨èåˆ—è¡¨ï¼ˆRedis ç¼“å­˜ï¼‰
- **å•†å“ç®¡ç†** â€” åœ¨å”® / å·²å”® / ä¸‹æ¶çŠ¶æ€è‡ªåŠ©ç®¡ç†

### äº’åŠ¨
- **è¯„è®º** â€” æ”¯æŒä¸€çº§å›å¤çš„æ¥¼å±‚å¼è¯„è®ºåŒº
- **ç‚¹èµ** â€” å•†å“ç‚¹èµï¼Œä¹è§‚æ›´æ–°äº¤äº’ä½“éªŒ
- **é€šçŸ¥** â€” æ–°å…³æ³¨ã€äº¤æ˜“çŠ¶æ€å˜æ›´ç­‰ç³»ç»Ÿæ¶ˆæ¯

### äº¤æ˜“
- **äº¤æ˜“æµç¨‹** â€” å‘èµ· â†’ å–å®¶ç¡®è®¤ â†’ äº¤æ˜“ä¸­ â†’ å®Œæˆ / å–æ¶ˆï¼Œå…¨çŠ¶æ€è¿½è¸ª
- **åŒå‘è¯„åˆ†** â€” äº¤æ˜“å®Œæˆåä¹°å–åŒæ–¹äº’è¯„ï¼ˆæ˜Ÿçº§ + æ–‡å­—ï¼‰ï¼Œæ¯ç¬”äº¤æ˜“é™è¯„ä¸€æ¬¡

---

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰å‹ |
|------|----------|
| **å‰ç«¯æ¡†æ¶** | React 18 + TypeScript + Vite |
| **çŠ¶æ€ç®¡ç†** | Zustand |
| **UI ç»„ä»¶åº“** | Arco Design |
| **å‰ç«¯è·¯ç”±** | React Router v6 |
| **HTTP å®¢æˆ·ç«¯** | Axiosï¼ˆå« JWT è‡ªåŠ¨åˆ·æ–°æ‹¦æˆªå™¨ï¼‰|
| **åç«¯æ¡†æ¶** | Django 4.2 + Django REST Framework |
| **è®¤è¯æ–¹æ¡ˆ** | SimpleJWTï¼ˆAccess + Refresh Token + é»‘åå•ï¼‰|
| **æ•°æ®åº“** | PostgreSQL 15 |
| **ç¼“å­˜ / é˜Ÿåˆ—** | Redis 7 |
| **å¼‚æ­¥ä»»åŠ¡** | Celery |
| **å¯¹è±¡å­˜å‚¨** | é˜¿é‡Œäº‘ OSS / è…¾è®¯äº‘ COSï¼ˆäºŒé€‰ä¸€ï¼‰|
| **Web æœåŠ¡å™¨** | Gunicorn + Nginx |
| **å®¹å™¨åŒ–** | Docker + Docker Compose |
| **éƒ¨ç½²ç¯å¢ƒ** | Debian 12 |
| **æ¥å£æ–‡æ¡£** | drf-spectacularï¼ˆSwagger UI / ReDocï¼‰|
| **æµ‹è¯•** | pytest-django + Locust |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
campus-trade/
â”œâ”€â”€ frontend/                        # React å‰ç«¯
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ api/                     # Axios å°è£…ï¼ˆæŒ‰æ¨¡å—æ‹†åˆ†ï¼‰
â”‚       â”œâ”€â”€ components/              # å…¬å…±ç»„ä»¶
â”‚       â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰ Hooks
â”‚       â”œâ”€â”€ pages/                   # é¡µé¢ç»„ä»¶
â”‚       â”œâ”€â”€ store/                   # Zustand å…¨å±€çŠ¶æ€
â”‚       â”œâ”€â”€ router/                  # è·¯ç”±é…ç½® + è·¯ç”±å®ˆå«
â”‚       â””â”€â”€ types/                   # TypeScript ç±»å‹å®šä¹‰
â”‚
â”œâ”€â”€ backend/                         # Django åç«¯
â”‚   â”œâ”€â”€ config/                      # é¡¹ç›®é…ç½®ï¼ˆsettings / urls / celeryï¼‰
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚       â”œâ”€â”€ base.py              # å…¬å…±é…ç½®
â”‚   â”‚       â”œâ”€â”€ development.py       # å¼€å‘é…ç½®
â”‚   â”‚       â””â”€â”€ production.py        # ç”Ÿäº§é…ç½®
â”‚   â”œâ”€â”€ apps/
â”‚   â”‚   â”œâ”€â”€ users/                   # ç”¨æˆ·ï¼šç™»å½•ã€æ³¨å†Œã€ç¬¬ä¸‰æ–¹ OAuthã€å…³æ³¨
â”‚   â”‚   â”œâ”€â”€ products/                # å•†å“ï¼šCRUDã€æœç´¢ã€åˆ†ç±»ã€æ¨è
â”‚   â”‚   â”œâ”€â”€ interactions/            # äº’åŠ¨ï¼šè¯„è®ºã€ç‚¹èµ
â”‚   â”‚   â”œâ”€â”€ transactions/            # äº¤æ˜“ï¼šçŠ¶æ€æœºã€åŒå‘è¯„åˆ†
â”‚   â”‚   â””â”€â”€ notifications/           # é€šçŸ¥ï¼šä¿¡å·è§¦å‘ã€æ¶ˆæ¯åˆ—è¡¨
â”‚   â”œâ”€â”€ utils/                       # å·¥å…·ï¼šç»Ÿä¸€å“åº”ã€åˆ†é¡µã€æƒé™ã€OSS å°è£…
â”‚   â””â”€â”€ requirements/
â”‚       â”œâ”€â”€ base.txt
â”‚       â”œâ”€â”€ development.txt
â”‚       â””â”€â”€ production.txt
â”‚
â”œâ”€â”€ deploy/
â”‚   â”œâ”€â”€ nginx/campus-trade.conf      # Nginx åå‘ä»£ç†é…ç½®
â”‚   â”œâ”€â”€ docker/Dockerfile.backend    # åç«¯é•œåƒ
â”‚   â””â”€â”€ scripts/
â”‚       â”œâ”€â”€ deploy.sh                # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”‚       â””â”€â”€ backup.sh                # æ•°æ®åº“å®šæ—¶å¤‡ä»½è„šæœ¬
â”‚
â”œâ”€â”€ docker-compose.yml               # ç”Ÿäº§ç¯å¢ƒæœåŠ¡ç¼–æ’
â”œâ”€â”€ docker-compose.dev.yml           # å¼€å‘ç¯å¢ƒï¼ˆä»… db + redisï¼‰
â”œâ”€â”€ .env.example                     # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ README.md
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### ç¯å¢ƒè¦æ±‚

- Docker >= 24.0 & Docker Compose >= 2.20
- Node.js >= 18ï¼ˆæœ¬åœ°å‰ç«¯å¼€å‘æ—¶éœ€è¦ï¼‰
- Python >= 3.11ï¼ˆæœ¬åœ°åç«¯å¼€å‘æ—¶éœ€è¦ï¼‰

### æ–¹å¼ä¸€ï¼šDocker ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/your-org/campus-trade.git
cd campus-trade

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .envï¼Œå¡«å…¥æ•°æ®åº“å¯†ç ã€OSS å¯†é’¥ã€SMS/å¾®ä¿¡/QQ ç­‰é…ç½®

# 3. å¯åŠ¨å…¨éƒ¨æœåŠ¡
docker compose up -d

# 4. åˆå§‹åŒ–æ•°æ®åº“ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
docker compose exec backend python manage.py migrate
docker compose exec backend python manage.py createsuperuser

# 5. è®¿é—®
#   å‰ç«¯:  http://localhost
#   API:   http://localhost/api/
#   æ–‡æ¡£:  http://localhost/api/docs/
```

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒ

**åç«¯**

```bash
cd backend
python -m venv venv && source venv/bin/activate   # Windows: venv\Scripts\activate
pip install -r requirements/development.txt

# å¯åŠ¨ PostgreSQL + Redisï¼ˆé€šè¿‡ Dockerï¼‰
docker compose -f ../docker-compose.dev.yml up -d

python manage.py migrate --settings=config.settings.development
python manage.py runserver --settings=config.settings.development
```

**å‰ç«¯**

```bash
cd frontend
npm install
cp .env.example .env.local    # é…ç½® VITE_API_BASE_URL=http://localhost:8000
npm run dev                    # è®¿é—® http://localhost:5173
```

### å…³é”®ç¯å¢ƒå˜é‡è¯´æ˜

```env
# Django
DJANGO_SECRET_KEY=your-50-char-random-secret
DJANGO_ALLOWED_HOSTS=your-domain.com,localhost

# æ•°æ®åº“
POSTGRES_DB=campus_trade
POSTGRES_USER=ct_user
POSTGRES_PASSWORD=strong-password-here

# å¯¹è±¡å­˜å‚¨ï¼ˆé˜¿é‡Œäº‘ OSSï¼‰
OSS_ACCESS_KEY_ID=your-access-key-id
OSS_ACCESS_KEY_SECRET=your-access-key-secret
OSS_BUCKET_NAME=campus-trade-media
OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com

# å¯¹è±¡å­˜å‚¨ï¼ˆè…¾è®¯äº‘ COSï¼Œä¸ OSS äºŒé€‰ä¸€ï¼‰
# COS_SECRET_ID=xxx
# COS_SECRET_KEY=xxx
# COS_BUCKET=campus-trade-media-1234567890
# COS_REGION=ap-guangzhou

# çŸ­ä¿¡æœåŠ¡ï¼ˆé˜¿é‡Œäº‘ SMSï¼‰
SMS_ACCESS_KEY_ID=your-sms-key
SMS_ACCESS_KEY_SECRET=your-sms-secret
SMS_SIGN_NAME=æ ¡å›­é›†å¸‚
SMS_TEMPLATE_CODE=SMS_000000000

# ç¬¬ä¸‰æ–¹ç™»å½•
WECHAT_APP_ID=your-wechat-appid
WECHAT_APP_SECRET=your-wechat-appsecret
QQ_APP_ID=your-qq-appid
QQ_APP_KEY=your-qq-appkey
```

å®Œæ•´å­—æ®µä¸è¯´æ˜è§ [`.env.example`](.env.example)ã€‚

---

## ğŸ—„ï¸ æ ¸å¿ƒæ•°æ®æ¨¡å‹

```
User â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ThirdPartyAccountï¼ˆå¾®ä¿¡ / QQ ç»‘å®šï¼‰
  â”‚
  â”œâ”€â”€ Product â”€â”€ ProductImageï¼ˆimage_url æŒ‡å‘ OSSï¼‰
  â”‚     â””â”€â”€ Category
  â”‚
  â”œâ”€â”€ Commentï¼ˆæ”¯æŒä¸€çº§å›å¤ï¼‰
  â”œâ”€â”€ Likeï¼ˆunique_together ä¿è¯å¹‚ç­‰ï¼‰
  â”œâ”€â”€ Follow
  â”œâ”€â”€ Transaction â”€â”€ Ratingï¼ˆunique_together ä¿è¯æ¯æ–¹åªè¯„ä¸€æ¬¡ï¼‰
  â””â”€â”€ Notification
```

å¯åŠ¨åè®¿é—® `http://localhost/api/docs/` æŸ¥çœ‹å®Œæ•´ Swagger æ¥å£æ–‡æ¡£ã€‚

---

## ğŸ‘¨â€ğŸ’» å¼€å‘è¿‡ç¨‹

### å¼€å‘æ—¶é—´çº¿ï¼ˆ14 å¤©ï¼‰

| é˜¶æ®µ | æ—¶é—´ | ä¸»è¦äº¤ä»˜ç‰© |
|------|------|-----------|
| **è®¾è®¡ & æ¶æ„** | Day 1â€“2 | UI åŸå‹ï¼ˆFigmaï¼‰ã€æ•°æ®åº“ ERDã€API è§„èŒƒæ–‡æ¡£ã€é¡¹ç›®è„šæ‰‹æ¶æ­å»º |
| **æ ¸å¿ƒåŠŸèƒ½** | Day 3â€“6 | ç™»å½•ï¼ˆæ‰‹æœºå·/å¾®ä¿¡/QQï¼‰ã€å•†å“ CRUDã€OSS ä¸Šä¼ ã€ä¸»é¡µã€æœç´¢ |
| **å®Œæ•´åŠŸèƒ½** | Day 7â€“10 | ç‚¹èµã€è¯„è®ºã€å…³æ³¨ã€äº¤æ˜“çŠ¶æ€æœºã€åŒå‘è¯„åˆ†ã€é€šçŸ¥ |
| **æµ‹è¯• & ä¿®å¤** | Day 11â€“12 | æ¥å£å•å…ƒæµ‹è¯•ã€UI èµ°æŸ¥ã€å‹æµ‹æŠ¥å‘Šã€Bug ä¿®å¤ |
| **éƒ¨ç½² & éªŒæ”¶** | Day 13â€“14 | ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ã€å…¨æµç¨‹å›å½’ã€æ–‡æ¡£å½’æ¡£ã€æ‰“ Tag `v1.0.0` |

### åˆ†æ”¯ç­–ç•¥

```
main        ç”Ÿäº§åˆ†æ”¯ï¼Œåªæ¥å—æ¥è‡ª develop çš„ PRï¼Œæ‰“ Tag å‘ç‰ˆ
develop     é›†æˆåˆ†æ”¯ï¼Œæ‰€æœ‰åŠŸèƒ½åœ¨æ­¤æ±‡æ€»è”è°ƒ
feature/*   åŠŸèƒ½åˆ†æ”¯ï¼Œä» develop åˆ‡å‡ºï¼Œå®Œæˆå PR å› develop
fix/*       Bug ä¿®å¤åˆ†æ”¯
```

```bash
# å¼€å§‹æ–°åŠŸèƒ½
git checkout develop && git pull
git checkout -b feature/product-search

# å®Œæˆåæ¨é€ï¼Œå‘èµ· PR åˆ° develop
# è‡³å°‘ 1 äºº Review é€šè¿‡ååˆå¹¶ï¼Œåˆå¹¶ååˆ é™¤åŠŸèƒ½åˆ†æ”¯
```

### Commit è§„èŒƒï¼ˆConventional Commitsï¼‰

```
feat:      æ–°åŠŸèƒ½
fix:       Bug ä¿®å¤
docs:      æ–‡æ¡£å˜æ›´
style:     ä»£ç æ ¼å¼ï¼ˆä¸å½±å“é€»è¾‘ï¼‰
refactor:  é‡æ„
test:      æµ‹è¯•ç›¸å…³
chore:     æ„å»º / ä¾èµ– / è„šæœ¬æ‚é¡¹
```

ç¤ºä¾‹ï¼š`feat: å•†å“æœç´¢æ”¯æŒä»·æ ¼åŒºé—´ç­›é€‰`

### è¿è¡Œæµ‹è¯•

```bash
# åç«¯å•å…ƒæµ‹è¯• + è¦†ç›–ç‡
cd backend
pytest --cov=apps --cov-report=html
open htmlcov/index.html

# æ¥å£å‹æµ‹ï¼ˆå•†å“åˆ—è¡¨ï¼‰
locust -f tests/locustfile.py --headless -u 50 -r 5 --run-time 60s
```

### æ—¥å¸¸åä½œè§„èŒƒ

- æ¯æ—¥ 15 åˆ†é’Ÿç«™ä¼šï¼ŒåŒæ­¥è¿›åº¦ä¸é˜»å¡ç‚¹
- æ¥å£å˜æ›´èµ° Git PR æµç¨‹ï¼Œå˜æ›´å½“æ—¥åŒæ­¥å‰ç«¯å›¢é˜Ÿ
- Bug è·Ÿè¸ªç»Ÿä¸€ä½¿ç”¨ GitHub Issuesï¼Œæ ‡æ³¨ä¼˜å…ˆçº§

---

## ğŸš¢ ç”Ÿäº§éƒ¨ç½²ï¼ˆDebian 12ï¼‰

```bash
# 1. å®‰è£… Docker
curl -fsSL https://get.docker.com | sh
sudo usermod -aG docker $USER && newgrp docker

# 2. å…‹éš†å¹¶é…ç½®
git clone https://github.com/your-org/campus-trade.git
cd campus-trade
cp .env.example .env       # å¡«å†™ç”Ÿäº§ç¯å¢ƒé…ç½®

# 3. ä¸€é”®éƒ¨ç½²
chmod +x deploy/scripts/deploy.sh
./deploy/scripts/deploy.sh

# 4. é…ç½®æ¯æ—¥è‡ªåŠ¨å¤‡ä»½ï¼ˆå‡Œæ™¨ 3 ç‚¹ï¼‰
(crontab -l; echo "0 3 * * * /path/to/deploy/scripts/backup.sh") | crontab -
```

---

## ğŸ‘¥ å›¢é˜Ÿ

| æˆå‘˜ | è§’è‰² |
|------|------|
| A1 | å‰ç«¯å¼€å‘ |
| A2 | å‰ç«¯ / UI è®¾è®¡ |
| B1 | åç«¯å¼€å‘ + æµ‹è¯• |
| B2 | åç«¯ + è¿ç»´ + **é¡¹ç›®è´Ÿè´£äºº** |

---

## ğŸ“„ License

[MIT License](LICENSE) Â· Â© 2024 æ ¡å›­é›†å¸‚å¼€å‘å›¢é˜Ÿ
